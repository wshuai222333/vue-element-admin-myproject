webpackJsonp([6],{bCs1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("oWyI"),l={data:function(){return{tableData:[],total:0,dialogFormVisible:!1,dialogMFormVisible:!1,form:{name:"",rate:"",phone:"",agentid:""},formLabelWidth:"120px"}},methods:{handleCurrentChange:function(t){this.onQueryClick(t)},onQueryClick:function(t){var e=this;this.$http.post("/api/Agent/AgentList",o.a.Encrypt.DataEncryption({pageindex:t,pagesize:10})).then(function(t){t.Data&&null!=t.Data&&void 0!=t.Data&&100==t.Status?(e.total=t.Data.TotalItems,e.tableData=t.Data.Items):e.$message(t.Message)},function(t){e.$message(t),console.log(t)})},onClickModify:function(t){this.dialogMFormVisible=!0,this.form.name=t.MerchantName,this.form.rate=t.Rate,this.form.phone=t.Phone,this.form.agentid=t.AgentId},onClickAdd:function(t){var e=this;this.$http.post("/api/Agent/AddAgent",o.a.Encrypt.DataEncryption({MerchantName:this.form.name,Rate:this.form.rate,Phone:this.form.phone,AddAgentId:t})).then(function(t){t.Data&&null!=t.Data&&void 0!=t.Data&&t.Data>0?(e.$message("商户添加或修改成功!"),e.dialogFormVisible=!1,e.dialogMFormVisible=!1,e.form.name="",e.form.rate="",e.form.phone="",e.onQueryClick(1)):e.$message(t.Message)},function(t){e.$message(t),console.log(t)})},onMemberlevel:function(t){var e=this;this.$confirm("是否确认修改会员等级?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post("/api/User/ModifyMemberlevel",o.a.Encrypt.DataEncryption({UserAccountId:t.UserAccountId,Memberlevel:t.Memberlevel})).then(function(t){t.Data&&null!=t.Data&&void 0!=t.Data&&100==t.Status&&t.Data>0?(e.$message({type:"success",message:"更改成功!"}),e.onQueryClick(1),e.dialogFormVisible=!1):e.$message(t.Message)},function(t){e.$message("请求失败！"),console.log(t)})}).catch(function(){e.$message({type:"info",message:"已取消更改"}),e.onQueryClick(1)})}},mounted:function(){this.onQueryClick(1)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"page-header"},[a("h1",{staticClass:"page-title"},[t._v("用户管理")]),t._v(" "),a("el-breadcrumb",[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("用户管理")])],1)],1),t._v(" "),a("div",{staticClass:"box"},[a("el-row",[a("m-button",{attrs:{type:"info"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加")])],1),t._v(" "),a("p"),t._v(" "),a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"#",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"商户编号",prop:"AgentId"}}),t._v(" "),a("el-table-column",{attrs:{label:"商户名称",prop:"MerchantName"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"CreateTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"协议费率",prop:"Rate"}}),t._v(" "),a("el-table-column",{attrs:{label:"电话",prop:"Phone"}}),t._v(" "),a("el-table-column",{attrs:{label:"UserKey",prop:"UserKey"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.onClickModify(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加商户",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"商户名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"协议费率","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.rate,callback:function(e){t.$set(t.form,"rate",e)},expression:"form.rate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onClickAdd(0)}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改商户",visible:t.dialogMFormVisible},on:{"update:visible":function(e){t.dialogMFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"商户名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"协议费率","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.rate,callback:function(e){t.$set(t.form,"rate",e)},expression:"form.rate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onClickAdd(t.form.agentid)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,n,!1,function(t){a("nApK")},null,null);e.default=i.exports},nApK:function(t,e){}});
//# sourceMappingURL=6.482e0a7b21a3af4db6c1.js.map